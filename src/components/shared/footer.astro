---
import { OTHER_LINKS } from "@/lib/config";
import Hashtag from "@/assets/svgs/hashtag.astro";
import Icon from "../bases/icon.astro";
import { siteConfig } from "@/lib/siteConfig";

/* ---------- DOMAIN ---------- */
const urlObj = Astro.request ? new URL(Astro.request.url) : null;
const rawHost = urlObj?.hostname || "";
const hostname = rawHost.replace(/^www\./, "");

/* ---------- SITE CONFIG ---------- */
const site = siteConfig[rawHost] ||
  siteConfig[hostname] || {
    title: "News",
  };
---

<footer
  class="footer border-t border-primary-content/80 dark:border-primary-content/20 py-6"
>
  <div class="container">
    <div class="flex flex-col gap-4">
      <aside class="flex items-center gap-2">
        <Hashtag />
        <p>
          <strong class="text-lg">{site.title}</strong>
        </p>
      </aside>
    </div>
    <div class="divider w-full h-1"></div>
    <div class="flex flex-col gap-4">
      <nav class="flex flex-wrap gap-4 text-xs mt-2">
        {
          OTHER_LINKS.map(({ href, text, target }) => (
            <a href={href} class="link link-hover" target={target ?? "_self"}>
              {text}
            </a>
          ))
        }
      </nav>
    </div>
  </div>
</footer>
