---
import BaseLayout from "@/layouts/base.astro";
import ContentLayout from "@/layouts/content.astro";
import { siteConfig } from "@/lib/siteConfig";

/* ---------- DOMAIN ---------- */
const urlObj = Astro.request ? new URL(Astro.request.url) : null;
const rawHost = urlObj?.hostname || "";
const hostname = rawHost.replace(/^www\./, "");

/* ---------- SITE CONFIG ---------- */
const site = siteConfig[rawHost] ||
  siteConfig[hostname] || {
    title: "News",
  };

/* ---------- SEO ENTRY ---------- */
const entry = {
  data: {
    title: "Contact Us",
    description: `Get in touch with ${site.title}`,
  },
};

/* ---------- CONTACT VALUES ---------- */
const email = `info@${hostname}`;
const siteUrl = urlObj ? urlObj.origin : "";
---

<BaseLayout entry={entry}>
  <ContentLayout>
    <article class="prose mx-auto">
      <h1>Contact Us</h1>

      <p>
        We value your feedback, suggestions, and story ideas. Please feel free
        to contact us:
      </p>

      <ul>
        <li>
          <strong>Email:</strong>
          <a href={`mailto:${email}`}>{email}</a>
        </li>

        <li>
          <strong>Website:</strong>
          <a href={siteUrl}>{siteUrl}</a>
        </li>
      </ul>

      <p>
        Our editorial team looks forward to connecting with readers,
        contributors, and partners at <strong>{site.title}</strong>.
      </p>
    </article>
  </ContentLayout>
</BaseLayout>
